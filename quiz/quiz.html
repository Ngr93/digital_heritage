<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>Survive the Chicago Fire - Quiz</title>

  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 650px;
      margin: 40px auto;
      text-align: center;
    }

    h1 {
      color: #d42e00;
      font-size: 32px;
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 12px;
    }

    .fire {
      width: 45px;
      height: 45px;
      background-image: url('https://i.gifer.com/origin/72/72aa7e1e0b8beddeb18f0bc33bd4a14c_w200.gif');
      background-size: cover;
    }

    #scoreBox {
      font-size: 18px;
      margin-bottom: 20px;
      font-weight: bold;
    }

    .question-box {
      margin-bottom: 25px;
      padding: 20px;
      border: 1px solid #ddd;
      border-radius: 8px;
      background: #fafafa;
    }

    button {
      padding: 12px;
      margin: 8px 0;
      width: 100%;
      border-radius: 6px;
      cursor: pointer;
      border: 1px solid #999;
      background: white;
      font-size: 16px;
    }

    .correctBtn {
      background: #d4edda;
      border-color: #6cc27f;
    }

    .wrongBtn {
      background: #f8d7da;
      border-color: #e88a8a;
    }

    #feedback {
      margin-top: 15px;
      font-size: 18px;
    }

    #nextBtn {
      margin-top: 15px;
      padding: 10px 20px;
      font-size: 16px;
      background: #d42e00;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      display: none;
    }
  </style>
</head>

<body>

<h1>
  <div class="fire"></div>
  Survive the Chicago Fire
  <div class="fire"></div>
</h1>

<div id="scoreBox">Score: 0 / 5</div>
<div id="quiz"></div>
<div id="feedback"></div>

<button id="nextBtn" onclick="nextQuestion()">Next Question</button>

<script>
const questions = [
  {
    question: "What was a key result of rebuilding Chicago after the 1871 fire?",
    answers: [
      "Stronger building rules and safer construction",
      "Fewer people living in the city",
      "The end of industrial growth"
    ],
    correct: 0,
    explanation: "Rebuilding led to safer construction and stricter building regulations."
  },
  {
    question: "Why did the Chicago River become an environmental problem after the fire?",
    answers: [
      "It was used to dispose waste and sewage",
      "It dried out completely",
      "It was closed to ships"
    ],
    correct: 0,
    explanation: "Waste and sewage polluted the river, affecting public health."
  },
  {
    question: "What mainly caused the decrease in typhoid deaths over time?",
    answers: [
      "Improved sanitation and clean water systems",
      "Changes in climate",
      "The fire destroyed all bacteria"
    ],
    correct: 0,
    explanation: "Better sanitation systems reduced waterborne diseases."
  },
  {
    question: "Why are myths about the Great Chicago Fire important to understand today?",
    answers: [
      "They shaped public opinion and social attitudes",
      "They explain fire engineering methods",
      "They show scientific evidence"
    ],
    correct: 0,
    explanation: "Fire myths influenced how people blamed communities and understood the disaster."
  },
  {
    question: "What is the main goal of including a quiz in this StoryMap?",
    answers: [
      "To test memory without learning",
      "To reinforce understanding of the content",
      "To replace historical sources"
    ],
    correct: 1,
    explanation: "The quiz helps users review and understand the StoryMap content."
  }
];

let score = 0;
let questionIndex = 0;

const quizDiv = document.getElementById("quiz");
const scoreBox = document.getElementById("scoreBox");
const feedbackDiv = document.getElementById("feedback");
const nextBtn = document.getElementById("nextBtn");

function updateScore() {
  scoreBox.textContent = `Score: ${score} / ${questions.length}`;
}

function showQuestion() {
  feedbackDiv.innerHTML = "";
  nextBtn.style.display = "none";
  quizDiv.innerHTML = "";

  const q = questions[questionIndex];

  const box = document.createElement("div");
  box.className = "question-box";

  const title = document.createElement("h3");
  title.textContent = q.question;
  box.appendChild(title);

  q.answers.forEach((answer, idx) => {
    const btn = document.createElement("button");
    btn.textContent = answer;
    btn.onclick = () => checkAnswer(idx, btn);
    box.appendChild(btn);
  });

  quizDiv.appendChild(box);
}

function checkAnswer(selected, buttonElement) {
  const q = questions[questionIndex];
  const correct = q.correct;

  const buttons = quizDiv.getElementsByTagName("button");
  for (let b of buttons) b.disabled = true;

  if (selected === correct) {
    score++;
    updateScore();
    feedbackDiv.innerHTML = "<p style='color:green;'><b>Correct!</b> ðŸ”¥</p>";
    buttonElement.classList.add("correctBtn");
  } else {
    feedbackDiv.innerHTML = `
      <p style='color:red;'>
        Wrong. Correct answer: <b>${q.answers[correct]}</b><br>
        <i>${q.explanation}</i>
      </p>
    `;
    buttonElement.classList.add("wrongBtn");
  }

  nextBtn.style.display = "inline-block";
}

function nextQuestion() {
  questionIndex++;

  if (questionIndex < questions.length) {
    showQuestion();
  } else {
    quizDiv.innerHTML = "";
    nextBtn.style.display = "none";
    feedbackDiv.innerHTML = `<b>Quiz finished! Final score: ${score} / ${questions.length} ðŸ”¥</b>`;
  }
}

updateScore();
showQuestion();
</script>

</body>
</html>


